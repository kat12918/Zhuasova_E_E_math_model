import numpy as np
import matplotlib.pyplot as plt

# Параметры
lamb = 0.8  # Интенсивность прибытия клиентов
mu = 1.0       # Интенсивность обслуживания клиентов
rho = lamb / mu  # Коэффициент загрузки

# Вероятность того, что система пуста
P_0 = 1 - rho

# Вероятность того, что в системе n клиентов
n = np.arange(0, 11)
P_n = (1 - rho) * rho**n

# Среднее количество клиентов в системе
L = rho / (1 - rho)

# Среднее время пребывания клиента в системе
W = 1 / (mu - lamb)

# Вывод результатов
print(f"Вероятность того, что система пуста: P_0 = {P_0:.4f}")
print(f"Среднее количество клиентов в системе: L = {L:.4f}")
print(f"Среднее время пребывания клиента в системе: W = {W:.4f}")

# Построение графиков
plt.figure(figsize=(12, 6))

# График вероятности того, что в системе n клиентов
plt.subplot(1, 2, 1)
plt.bar(n, P_n, color='skyblue')
plt.xlabel('Количество клиентов (n)')
plt.ylabel('Вероятность P_n')
plt.title('Вероятность того, что в системе n клиентов')

# График среднего количества клиентов в системе
plt.subplot(1, 2, 2)
plt.bar(['L'], [L], color='lightgreen')
plt.xlabel('Параметр')
plt.ylabel('Среднее количество клиентов')
plt.title('Среднее количество клиентов в системе')

plt.tight_layout()
plt.show()